{
  "db_name": "PostgreSQL",
  "query": "SELECT \n            COALESCE(SUM(duration_minutes) FILTER (WHERE start_time::date = CURRENT_DATE), 0) / 60.0 as hours_today,\n            COALESCE(SUM(duration_minutes) FILTER (WHERE start_time::date = CURRENT_DATE AND billable = true), 0) / 60.0 as billable_hours_today,\n            COALESCE(SUM(duration_minutes) FILTER (WHERE start_time >= date_trunc('week', CURRENT_DATE)), 0) / 60.0 as hours_week,\n            COALESCE(SUM(duration_minutes) FILTER (WHERE start_time >= date_trunc('week', CURRENT_DATE) AND billable = true), 0) / 60.0 as billable_hours_week,\n            COALESCE(SUM(total_amount) FILTER (WHERE billable = true AND billed = false), 0) as unbilled_amount,\n            COUNT(*) FILTER (WHERE end_time IS NULL) as active_timers\n         FROM time_entries \n         WHERE user_id = $1",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "hours_today",
        "type_info": "Numeric"
      },
      {
        "ordinal": 1,
        "name": "billable_hours_today",
        "type_info": "Numeric"
      },
      {
        "ordinal": 2,
        "name": "hours_week",
        "type_info": "Numeric"
      },
      {
        "ordinal": 3,
        "name": "billable_hours_week",
        "type_info": "Numeric"
      },
      {
        "ordinal": 4,
        "name": "unbilled_amount",
        "type_info": "Numeric"
      },
      {
        "ordinal": 5,
        "name": "active_timers",
        "type_info": "Int8"
      }
    ],
    "parameters": {
      "Left": [
        "Uuid"
      ]
    },
    "nullable": [
      null,
      null,
      null,
      null,
      null,
      null
    ]
  },
  "hash": "3028d978e1df051846524995fb8ca2a803bf2f1a82e824930bbe8a6a747a8313"
}
